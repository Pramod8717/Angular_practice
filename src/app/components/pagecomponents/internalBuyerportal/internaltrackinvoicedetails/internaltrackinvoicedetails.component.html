<div class="main-content margin-top">
    <div class="container internalpt">
        <!-- *ngFor="let invData of invoicedata" -->
        <div class="inv-page-container">
            <div class="inv-page-wrapper container">
                <div class="inv-page-header">
                    <!-- <img class="left-arrow" style="cursor: pointer;" [routerLink]="['/internalinvoicelist']" src="./assets/img/arrow_icon_grey_prev.png" /> -->
                    <img class="left-arrow" style="cursor: pointer;" (click)="routetooriginal()" src="./assets/img/arrow_icon_grey_prev.png" />
                    <p class="invoice-number">Track Invoice Details</p>
                </div>
                <div class="approvalWrapper">
                    <div class="approval__header">
                        <p class="approval__title">Status Tracking</p>
                        <div class="approvalIcon" (click)="openapproval('1')">
                            <span class="fa fa-minus" alt="download image" id="closeArrow1"></span>
                            <span class="fa fa-plus" alt="refresh image" id="openArrow1" style="display: none;"></span>
                        </div>
                    </div>
                    <div class="approval__box" id="approvalBox1">
                        <div class="trackInvStatus__wrapper">
                            <div class="trackInvStatus__single" *ngIf="pending == true">
                                <div class="trackInvStatus__content">
                                    <div class="InvStatus">
                                        <span class="statusBox stColor__pending"></span>
                                        <span class="statusBox__title">Submitted</span>
                                    </div>
                                    <div class="InvStatus__date">
                                        <span>{{pendingtime}}</span>
                                    </div>
                                </div>
                            </div>
                            <div class="trackInvStatus__single" *ngIf="return == true">
                                <div class="trackInvStatus__content">
                                    <div class="InvStatus">
                                        <span class="statusBox st-returned"></span>
                                        <span class="statusBox__title">Returned</span>
                                    </div>
                                    <div class="InvStatus__date">
                                        <span>{{returntime}}</span>
                                    </div>
                                </div>
                            </div>
                            <div class="trackInvStatus__single" *ngIf="resubmit == true">
                                <div class="trackInvStatus__content">
                                    <div class="InvStatus">
                                        <span class="statusBox stColor__pending"></span>
                                        <span class="statusBox__title">Resubmitted</span>
                                    </div>
                                    <div class="InvStatus__date">
                                        <span>{{resubmittime}}</span>
                                    </div>
                                    <div class="InvStatus__date" *ngIf="pending == false">
                                        <span>(<span style="color: #666666;font-weight: 600;">Returned Invoice No:</span> {{previoustoresubmitinvoicenumber}})</span>
                                    </div>
                                </div>
                            </div>
                            <div class="trackInvStatus__single" *ngIf="mpending == true">
                                <div class="trackInvStatus__content">
                                    <div class="InvStatus">
                                        <span class="statusBox st-hold"></span>
                                        <span class="statusBox__title"><span *ngIf="actionBy == 'ST'">Storekeeper</span>
                                        <span *ngIf="actionBy != 'ST'">End User</span> Approved</span>
                                    </div>
                                    <div class="InvStatus__date">
                                        <span>{{mpendingtime}}</span>
                                    </div>
                                </div>
                            </div>
                            <div class="trackInvStatus__single" *ngIf="accepted == true">
                                <div class="trackInvStatus__content">
                                    <div class="InvStatus">
                                        <span class="statusBox st-accepted"></span>
                                        <span class="statusBox__title">Approved</span>
                                    </div>
                                    <div class="InvStatus__date">
                                        <span>{{acceptedtime}}</span>
                                    </div>
                                </div>
                            </div>
                            <div class="trackInvStatus__single" *ngIf="rejected == true">
                                <div class="trackInvStatus__content">
                                    <div class="InvStatus">
                                        <span class="statusBox st-rejected"></span>
                                        <span class="statusBox__title">Rejected</span>
                                    </div>
                                    <div class="InvStatus__date">
                                        <span>{{rejectedtime}}</span>
                                    </div>
                                </div>
                            </div>
                            <div class="trackInvStatus__single" *ngIf="processed == true">
                                <div class="trackInvStatus__content">
                                    <div class="InvStatus">
                                        <span class="statusBox stColor__processed"></span>
                                        <span class="statusBox__title">Processed</span>
                                    </div>
                                    <div class="InvStatus__date">
                                        <span>{{processedtime}}</span>
                                    </div>
                                </div>
                            </div>
                            <div class="trackInvStatus__single" *ngIf="partialpaid == true">
                                <div class="trackInvStatus__content">
                                    <div class="InvStatus">
                                        <!-- <span class="statusBox stColor__partiallypaid"></span> -->
                                        <span class="status-color st-complete partialyLarge1" style="width: 17px; height: 20px;"></span>
                                        <span class="status-color st-incomplete st-grey partialySmall1" style="width: 8px; height: 20px; background: #024aec;"></span>
        
                                        <span class="statusBox__title">Partially Paid</span>
                                    </div>
                                    <div class="InvStatus__date">
                                        <span>{{partialpaidtime}}</span>
                                    </div>
                                </div>
                            </div>
                            <div class="trackInvStatus__single" *ngIf="paid == true">
                                <div class="trackInvStatus__content">
                                    <div class="InvStatus">
                                        <span class="statusBox stColor__paid"></span>
                                        <span class="statusBox__title">Paid</span>
                                    </div>
                                    <div class="InvStatus__date">
                                        <span>{{paidtime}}</span>
                                    </div>
                                </div>
                            </div>
                            <div class="trackInvStatus__single" *ngIf="reversed == true">
                                <div class="trackInvStatus__content">
                                    <div class="InvStatus">
                                        <span class="statusBox st-returned"></span>
                                        <span class="statusBox__title">Reversed</span>
                                    </div>
                                    <div class="InvStatus__date">
                                        <span>{{reversedtime}}</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="approvalWrapper">
                    <div class="approval__header">
                        <p class="approval__title">Details</p>
                        <div class="approvalIcon" (click)="openapproval('2')">
                            <span class="fa fa-minus" alt="download image" id="closeArrow2"></span>
                            <span class="fa fa-plus" alt="refresh image" id="openArrow2" style="display: none;"></span>
                        </div>
                    </div>
                    <div class="approval__box" id="approvalBox2">
                        <div class="invoice-form">
                            <div class="inv-form-inputs">
                                <h1 *ngIf="property == 'P'"> Approvals not added</h1>

                                <p class="input-title">Vendor Name : <span>{{bussinesspartnertext}}</span></p>
                            </div>
                            <div class="inv-form-inputs">
                                <p class="input-title">Requisitioner  : <span>{{requisitioner}}</span></p>
                            </div>
                            <div class="inv-form-inputs">
                                <!-- <p class="input-title">Invoice No : <span>{{invoicenumber}}</span></p> -->
                                <p class="input-title">Invoice No : <span (click)="downloadfile(savedfilename,actualfilename,'listdownload')" style="cursor: pointer; text-decoration: underline;color: #0645AD;"><img
                                    src="./assets/img/pdf_icon03.png" alt="pdf image" style="max-width: 25px;margin-right: 7px;"
                                        class="activeImg arrowIcon" /></span><span>{{invoicenumber}}</span>
                                </p>
                            </div>
                            <div class="inv-form-inputs">
                                <p class="input-title">Invoice Date : <span>{{invoicedate | date:'dd-MMM-yyyy'}}</span></p>
                            </div>
                            <div class="inv-form-inputs">
                                <p class="input-title">Invoice Amount (Excl Taxes) : <i class="fal fa-rupee-sign"></i> <span>{{amtexcltax}}</span></p>
                            </div>
        
                            <div class="inv-form-inputs">
                                <p class="input-title">Tax Amount : <i class="fal fa-rupee-sign"></i> <span>{{taxAmount}}</span></p>
                            </div>
                            <div class="inv-form-inputs">
                                <p class="input-title">Invoice Amount (Incl Taxes) : <i class="fal fa-rupee-sign"></i> <span>{{totalamount}}</span></p>
                            </div>
        
                            <div class="inv-form-inputs">
                                <p class="input-title">PO No : <span><a class="linkTable" style="cursor: pointer;"
                                            (click)="downloadPo(ponumberfortrack,'singlepodownload')">{{ponumberfortrack}}</a></span>
                                </p>
                            </div>
                            <div class="inv-form-inputs" *ngIf="status == 'O'">
                                <p class="input-title">Status : <span>On Hold </span></p>
                            </div>
                            <div class="inv-form-inputs" *ngIf="status == 'PRO'">
                                <p class="input-title">Status : <span>Processed </span></p>
                            </div>
                            <div class="inv-form-inputs" *ngIf="status == 'P'">
                                <p class="input-title">Status : <span>Pending </span></p>
                            </div>
                            <div class="inv-form-inputs" *ngIf="status == 'A'">
                                <p class="input-title">Status : <span>Approved </span></p>
                            </div>
                            <div class="inv-form-inputs" *ngIf="status == 'M'">
                                <p class="input-title">Status : <span>Pending </span></p>
                            </div>
                            <div class="inv-form-inputs" *ngIf="status == 'PP'">
                                <p class="input-title">Status : <span>Partially Paid </span></p>
                            </div>
                            <div class="inv-form-inputs" *ngIf="status == 'PD'">
                                <p class="input-title">Status : <span>Paid </span></p>
                            </div>
                            <div class="inv-form-inputs" *ngIf="status == 'R'">
                                <p class="input-title">Status : <span>Rejected </span></p>
                            </div>
                            <div class="inv-form-inputs" *ngIf="status == 'G'">
                                <p class="input-title">Status : <span>GRN </span></p>
                            </div>
                            <!-- <div class="inv-form-inputs">
                            <p class="input-title">Invoice Amount : <i class="fa fa-rupee-sign"></i><span>
                                    {{invData.INVOICEAMOUNT| number:'0.0-0'}}</span></p>
                        </div> -->
        
                            <!-- -----------Commented on 20-10-2021 ---------------------------- -->
                            <!-- <div class="inv-form-inputs" *ngIf="invData.IGSTAMOUNT != ''">
                            <p class="input-title">IGST : <span>{{invData.IGSTAMOUNT}} %</span></p>
                        </div>
        
                        <div class="inv-form-inputs" *ngIf="invData.IGSTAMOUNT == ''">
                            <p class="input-title">CGST : <span>{{invData.CGSTAMOUNT}} %</span></p>
                        </div>
                        <div class="inv-form-inputs" *ngIf="invData.IGSTAMOUNT == ''">
                            <p class="input-title">SGST : <span>{{invData.SGSTAMOUNT}} %</span></p>
                        </div> -->
                            <!-- -----------Commented on 20-10-2021 end ---------------------------- -->
                            <!-- <div class="inv-form-inputs">
                                <p class="input-title">Invoice Amount : <i class="fal fa-rupee-sign"></i> <span>{{totalamount }}</span></p>
                            </div> -->
                            <div class="inv-form-inputs">
                                <p class="input-title">Paid Amount : <i class="fa fa-rupee-sign"></i><span>{{paidamount }}</span></p>
                            </div>
                            <!-- <div class="inv-form-inputs">
                                <p class="input-title">User : <span>{{user}}</span></p>
                            </div> -->
        
                            <!-- <div class="inv-form-inputs">
                                <p class="input-title">Remarks : <span>{{description}}</span></p>
        
                            </div> -->
                            <div class="inv-form-inputs">
                                <p class="input-title">Description : <span>{{description}}</span></p>
                            </div>
                            <div class="inv-form-inputs">
                                <p class="input-title">Vendor Remarks : <span>{{vendorremarks}}</span></p>
                            </div>
                            <div class="inv-form-inputs" *ngIf="enduserremarks != null">
                                <p class="input-title">Remarks : <span>{{enduserremarks}}</span></p>
                            </div>
                            <div class="inv-form-inputs" *ngIf="enduserremarks == null">
                                <p class="input-title">Remarks : <span>NA</span></p>
                            </div>
                            <div class="inv-form-inputs" *ngIf="billofladingdate != null">
                                <p class="input-title">Bill Of Lading Date : <i class="fal fa-rupee-sign"></i> <span>{{billofladingdate | date:'dd-MMM-yyyy'}}</span></p>
                            </div>
                            <div class="inv-form-inputs" *ngIf="billofladingdate == null">
                                <p class="input-title">Bill Of Lading Date : <i class="fal fa-rupee-sign"></i>
                                    <span>NA</span>
                                </p>
                            </div>
                            <div class="inv-form-inputs" *ngIf="grnnumber != null">
                                <p class="input-title" >GRN No : <span style="word-break: break-all;">{{grnnumber}}</span></p>
                            </div>
                            <div class="inv-form-inputs" *ngIf="scrnNumber != null">
                                <p class="input-title">SRCN No : <span style="word-break: break-all;">{{scrnNumber}}</span></p>
                            </div>
                            <!-- <div class="inv-form-inputs">
                                <a>
                                    <p class="input-title">Attachment : <span (click)="downloadfile(savedfilename,actualfilename,'listdownload')" style="cursor: pointer; text-decoration: underline;color: #0645AD;">{{actualfilename}}</span>
                                    </p>
                                </a>
                            </div> -->
                            <div class="inv-form-inputs">
                                <a>
                                    <!-- (click)="downloadfile('multiplefiledownload')"  -->
                                    <p class="input-title">Vendor Supporting Docs :
                                        <span *ngIf="multipleactualfilename !=null">
                                        <span style="cursor: pointer; text-decoration: underline;color: #0645AD;">
                                                <ul class="supportingDocList">
                                                    <li *ngFor="let multipleindividualactualfilename of multipleactualfilename?.split(','); let i=index"
                                                        (click)="downloadfile(individualsavedname[i],multipleindividualactualfilename,'listdownload')" class="supportingDocList__icon">
                                                        <a  style="cursor: pointer;" tooltip="{{multipleindividualactualfilename}}" placement="bottom" showDelay="300">
                                                            <img src="./assets/img/downloadfile.png">
                                                           </a>
                                                    </li>
                                                </ul>
                                        </span>
                                        </span>
                                        <span *ngIf="multipleactualfilename ==null">
                                        No Docs Attached
                                    </span>
                                    </p>
                                </a>
                            </div>
                            <div class="inv-form-inputs">
                                <a>
                                    <!-- (click)="downloadfile('multiplefiledownload')"  -->
                                    <p class="input-title">BCCL Supporting Docs :
                                        <span *ngIf="multipleactualendfilename != null">
                                        <span
                                                            style="cursor: pointer; text-decoration: underline;color: #0645AD;">
                                                            <ul class="supportingDocList">
                                                                <li *ngFor="let multipleindividualactualfilename of multipleactualendfilename?.split(','); let i=index"
                                                                    (click)="downloadfile(individualsavedendname[i],multipleindividualactualfilename,'listdownload')"
                                                                    class="supportingDocList__icon">
                                                                    <a style="cursor: pointer;"
                                                                        tooltip="{{multipleindividualactualfilename}}"
                                                                        placement="bottom" showDelay="300">
                                                                        <img src="./assets/img/downloadfile.png">
                                                                    </a>
                                                                </li>
                                                            </ul>
                                                        </span>
                                        </span>
                                        <span *ngIf="multipleactualendfilename == null">
                                                        No Docs Attached
                                                    </span>
                                    </p>
                                </a>
                            </div>
                            <div class="inv-form-inputs" *ngIf="irnNumber != null && irnNumber != ''">
                                <p class="input-title">IRN No : <span style="word-break: break-all;">{{irnNumber}}</span></p>
                            </div>
                            <div class="inv-form-inputs" *ngIf="irnDate != null && irnNumber != ''">
                                <p class="input-title">IRN Date : <span>{{irnDate | date:'dd-MMM-yyyy'}}</span></p>
                            </div>
                        </div>
                    </div>
                </div>
                <div>
                    <div class="approvalWrapper">
                        <div class="approval__header">
                            <p class="approval__title">Items List</p>
                            <div class="approvalIcon" (click)="openapproval('3')">
                                <span class="fa fa-minus" alt="download image" id="closeArrow3"></span>
                                <span class="fa fa-plus" alt="refresh image" id="openArrow3" style="display: none;"></span>
                            </div>
                        </div>
                        <div class="approval__box" id="approvalBox3">
                            <div class="table-responsive pl-forIcon">
                                <table class="table customTableStripped noAccordionTable fixedTable">
                                    <thead class="text-primary">
                                        <tr>
                                            <th scope="col" class="text-left">Item</th>
                                            <th scope="col" class="text-left">Item Description</th>
                                            <th scope="col" class="text-left">Invoiced Qty / Accepted Qty</th>
                                            <th scope="col" class="text-right">Rate</th>
                                            <th scope="col" class="text-left">PER/UOM</th>
                                            <!-- <th scope="col" class="text-center">RATE IN INR</th> -->
                                            <th scope="col" class="text-right">Amount</th>
            
                                        </tr>
                                    </thead>
                                    <tbody>
            
                                        <tr class="customtbl-accordion-head " *ngFor="let invData of invoicedata">
                                            <td class="preventClick">
                                                <div class="text-left">
                                                    {{invData.LINEITEMNUMBER}}
                                                </div>
                                            </td>
                                            <td>
                                                <div class="text-left upperDate fixedDateCol">
                                                    {{invData.LINEITEMTEXT}}
                                                </div>
                                            </td>
                                            <td>
                                                <div class="text-left">
                                                    <!-- this.invoideDetailData[0].ACCEPTEDQTY == null || this.invoideDetailData[0].ACCEPTEDQTY == 0 -->
                                                    <!-- {{invData.QUANTITY | number:'1.3-3'}}/<span *ngIf="invData.GRNNUMBER != null">{{invData.ACCEPTEDQTY | number:'1.3-3'}}</span> -->
                                                    {{invData.QUANTITY | number:'1.3-3'}}/<span *ngIf="invData.ACCEPTEDQTY != null && invData.ACCEPTEDQTY != 0">{{invData.ACCEPTEDQTY | number:'1.3-3'}}</span>
                                                </div>
                                            </td>
                                            <td>
                                                <!-- style="margin-right: 15px;" -->
                                                <div class="text-right">
                                                    {{invData.RATEPERQTY | currency:'INR'}}
                                                </div>
                                            </td>
                                            <td>
                                                <!-- style="margin-right: 25px;" -->
                                                <div class="text-left">
                                                    1/{{invData.UOM}}
                                                </div>
                                            </td>
                                            <!-- <td>
                                            <div class="text-right" style="margin-right: 15px;">
                                                {{invData.TOTALAMOUNT}}
                                            </div>
                                        </td> -->
            
                                            <td>
                                                <!-- style="margin-right: 15px;" -->
                                                <div class="text-right">
                                                    {{invData.TOTALCALCULATEAMOUNT | currency:'INR'}}
                                                </div>
                                            </td>
                                            <td>
        
                                                <!-- <div class="text-center">
            
                                                <div class="commentDiv">
                                                    <div class="commentIcon" style="cursor: pointer;" (click)="ShowpopupMessage(event);
                                                    getQuerry(invData.INVOICENUMBER, invData.CONTACTPERSON)">
                                                        <i class="fa fa-comment" aria-hidden="true"></i>
                                                    </div>
                                                </div>
            
            
                                            </div> -->
                                            </td>
            
                                        </tr>
                                        <!-- tr end  -->
            
                                    </tbody>
                                </table>
            
                            </div>
                        </div>
                    </div>
                   
                </div>

                <!-- <div class="mt-4 trackInvoicebtnWrapper">
                     <a _ngcontent-kyk-c193="" class="btn btn-primary " (click)="trackInvoice()">
                    <img _ngcontent-dnd-c329="" src="./assets/img/arrow_icon_red.png" alt="arrow icon" class="arrowIcon">Track Invoice </a>
                    <button type="submit" class="btn button-primary" (click)="trackInvoice()">
                        <img _ngcontent-dnd-c329="" src="./assets/img/arrow_icon_red.png" alt="arrow icon"
                            class="arrowIcon">track invoice
                    </button>
                </div> -->
                <div *ngIf="!trackInv">

                    <div class="row ml-5">

                        <div class="col-md-3">
                            <div class="inv-wrapper">
                                <span class="status-color st-managerpending"></span>
                                <p class="status-title">Pending</p>
                            </div>
                            <!-- <button type="button" class="btn btn-info c-1">SENT</button> -->
                        </div>
                        <div class="col-md-9">
                            <div class="btn-right">
                                <p>{{pendingtime}}</p>
                            </div>
                        </div>
                    </div>
                    <hr />
                    <span *ngIf="mpending == true">
                        <div class="row ml-5">

                            <div class="col-md-3">
                                <!-- <button type="button" class="btn btn-warning c-2">PARTIAL</button> -->
                                <div class="inv-wrapper">
                                    <span class="status-color st-processing"></span>
                    <p class="status-title">Requisitioner Approved</p>
                </div>
            </div>
            <div class="col-md-9">
                <div class="btn-right">
                    <p>{{mpendingtime}}</p>
                </div>
            </div>
        </div>

        <hr />
        </span>


        <span *ngIf="processed == true">
                        <div class="row ml-5">

                            <div class="col-md-3">
                                <!-- <button type="button" class="btn btn-warning c-2">PARTIAL</button> -->
                                <div class="inv-wrapper">
                                    <span class="status-color st-transported"></span>
        <p class="status-title">Processed</p>
    </div>
</div>
<div class="col-md-9">
    <div class="btn-right">
        <p>{{processedtime}}</p>
    </div>
</div>
</div>

<hr />
</span>
<span *ngIf="accepted == true">
                        <div class="row ml-5">

                            <div class="col-md-3">
                                <!-- <button type="button" class="btn btn-warning c-3">PAR.PAID</button> -->
                                <div class="inv-wrapper">
                                    <span class="status-color st-accepted"></span>
<p class="status-title">Approved</p>
</div>
</div>
<div class="col-md-9">
    <div class="btn-right">
        <p>{{acceptedtime}}</p>

    </div>
</div>
</div>
<hr />
</span>

<span *ngIf="partialpaid == true">
                        <div class="row ml-5">

                            <div class="col-md-3">
                                <!-- <button type="button" class="btn btn-warning c-2">PARTIAL</button> -->
                                <div class="inv-wrapper">
                                    <!-- <span class="status-color st-transported"></span> -->
<span class="status-color st-complete partialyLarge1" style="width: 17px; height: 20px;"></span>
<span class="status-color st-incomplete st-grey partialySmall1" style="width: 8px; height: 20px; background: #024aec;"></span>
<p class="status-title">Partially Paid</p>
<!-- <p class="status-title">Partial Paid</p> -->
</div>
</div>
<div class="col-md-9">
    <div class="btn-right">
        <p>{{partialpaidtime}}</p>
    </div>
</div>
</div>

<hr />
</span>



<span *ngIf="paid == true">
                        <div class="row ml-5">

                            <div class="col-md-3">
                                <!-- <button type="button" class="btn btn-warning c-2">PARTIAL</button> -->
                                <div class="inv-wrapper">
                                    <span class="status-color st-complete"></span>
<p class="status-title">Paid</p>
</div>
</div>
<div class="col-md-9">
    <div class="btn-right">
        <p>{{paidtime}}</p>
    </div>
</div>
</div>

<hr />
</span>



<div class="row ml-5" *ngIf="rejected == true">

    <div class="col-md-3">
        <!-- <button type="button" class="btn btn-warning c-2">PARTIAL</button> -->
        <div class="inv-wrapper">
            <span class="status-color st-rejected"></span>
            <p class="status-title">Rejected</p>
        </div>
    </div>
    <div class="col-md-9">
        <div class="btn-right">
            <p>{{rejectedtime}}</p>

        </div>
    </div>
</div>
</div>
<!-- <hr>

            <div class="row ml-5">

                <div class="col-md-3">
                    <button type="button" class="btn btn-primary c-4">Email</button>
                </div>
                <div class="col-md-9">
                    <div class="btn-right">
                        <p>06 FEB 2021, 10:00 AM</p>
                        <p class="f-18"><b>Email sent to client for meeting payment reminder.</b></p>
                    </div>
                </div>
            </div>

            <hr>

            <div class="row ml-5">

                <div class="col-md-3">
                    <button type="button" class="btn btn-warning c-2">CLIENT REVERT</button>
                </div>
                <div class="col-md-9">
                    <div class="btn-right">
                        <p>07 FEB 2021, 10:00 AM</p>
                        <p class="f-18"><b>Pending payment received through cheque.cheque no:3234</b></p>
                    </div>
                </div>
            </div>

            <hr>

            <div class="row ml-5">

                <div class="col-md-3">
                    <button type="button" class="btn btn-success c-5">PAID</button>
                </div>
                <div class="col-md-9">
                    <div class="btn-right">
                        <p>08 FEB 2021, 10:00 AM</p>
                        <p class="f-18"><b>Payment received through cheque.cheque no:3234</b></p>
                    </div>

                </div>
            </div>


 -->

<div class="approvalWrapper" *ngIf="showcustomManagerList && status != 'V'">
<div class="approval__header">
        <p class="approval__title">Approvals</p>
    
        
        <div class="approvalIcon" (click)="openapproval('4')">
            <span class="fa fa-minus" alt="download image" id="closeArrow4"></span>
            <span class="fa fa-plus" alt="refresh image" id="openArrow4" style="display: none;"></span>
        </div>
    </div>
    <div class="approval__box" id="approvalBox4">
 <div class="formWrapper__heading no-bg pl-6" *ngIf="showcustomManagerList && status != 'V'">
    Approval Status</div>
<div class="table-responsive pl-forIcon" *ngIf="showcustomManagerList && status != 'V'">

    <table class="table customTableStripped noAccordionTable">
        <thead>
            <tr>
                <!-- <th scope="col">Approver(s)</th>

<th scope="col">Status</th> -->
            </tr>
        </thead>
        <tbody>
            <tr class="" *ngFor="let customManager of customManagerList;let i=index">
                <td class="" style="vertical-align:top">
                    <span class="text-left" style="cursor: pointer;" tooltip="{{customManager.DESIGNATION}}" placement="top" showDelay="300">{{customManager.EUMANAGER}}</span>
                </td>
                <td class="" style="width: 53%;vertical-align:top">
                    <div *ngFor="let chatmessage of statuschatmessage">
                        <div class="chatmessageWrapper"
                            *ngIf="customManager.EUMANAGER == chatmessage.SENDER">
                            <!-- <span class="messagescroll">{{chatmessage.MESSAGETEXT | slice:0:20}}</span> -->
                            <div class="prevChar commonDgWrapper" id="showId{{i}}">
                               <div class="dgTextLeft">
                                    {{chatmessage.MESSAGETEXT | slice:0:60}}
                                    <span
                                        *ngIf="chatmessage.MESSAGETEXT != null && chatmessage.MESSAGETEXT.length > 60">...
                                    </span>
                               </div>
                               <div class="dgTextRight">
                                    <img
                                    src="./assets/img/open_arrow_down_dark_grey.png"
                                    align="right"
                                    *ngIf="chatmessage.MESSAGETEXT != null && chatmessage.MESSAGETEXT.length > 60"
                                    (click)="toggle(i)" class="expandIcon"> 
                               </div>
                            </div>
                            <div id="messagescrollMore{{i}}" class="showNothing commonDgWrapper">
                               <div  class="dgTextLeft">
                                {{chatmessage.MESSAGETEXT}}
                               </div>
                                <div class="dgTextRight">
                                    <img src="./assets/img/open_arrow_up_light_grey.png"
                                    (click)="toggle(i)" class="expandIcon">
                                </div>
                            </div>
                        </div>
                    </div>
                </td>
                <!-- <td class="">
<span class="text-left">{{customManager.DESIGNATION}}</span>
</td> -->
                <td style="vertical-align:top">
                    <div class="text-left" *ngIf="customManager.STATUS =='P'">
                        Pending</div>
                    <div class="text-left" *ngIf="customManager.STATUS =='M'">
                        Pending</div>
                    <div class="text-left" *ngIf="customManager.STATUS =='CM'">
                        Pending</div>
                    <div class="text-left" *ngIf="customManager.STATUS =='CA'">
                        GRN Confirmed</div>
                    <div class="text-left" *ngIf="customManager.STATUS =='A'">
                        <div *ngIf="enduserid == customManager.EUMANAGER">
                            GRN Creator
                        </div>
                        <div *ngIf="enduserid != customManager.EUMANAGER">
                            Invoice Approver
                        </div>
                    </div>
                    <div class="text-left" *ngIf="customManager.STATUS =='R'">
                        Invoice Rejected</div>
                    <div class="text-left" *ngIf="customManager.STATUS =='CR'">
                        Invoice Rejected</div>
                    <div class="text-left" *ngIf="customManager.STATUS =='O' || customManager.STATUS =='CO'">
                        On Hold</div>
                    <div *ngFor="let chatmessage of statuschatmessage">
                        <div class="chatmessageWrapper"
                            *ngIf="customManager.EUMANAGER == chatmessage.SENDER">
                            <span class="messagescroll">{{chatmessage.CREATEDON}}</span>
                        </div>
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
</div>
    </div>
</div>

</div>
</div>
</div>
</div>
<app-dialog-model></app-dialog-model>